{"ast":null,"code":"var __jsx = React.createElement;\nimport React from 'react';\nimport Link from 'next/link';\nimport Navigation from '../components/Navigation';\nimport io from 'socket.io-client';\nimport { serverUrl } from '../constants';\n\nfunction useSocket(url) {\n  const [socket, setSocket] = React.useState(null);\n  React.useEffect(() => {\n    const socketIo = io(url);\n    setSocket(socketIo);\n\n    function cleanup() {\n      socketIo.disconnect();\n    }\n\n    return cleanup; // should only run once and not on every re-render,\n    // so pass an empty array\n  }, []);\n  return socket;\n}\n\nfunction Index() {\n  const socket = useSocket('http://127.0.0.1:3000');\n  React.useEffect(() => {\n    function handleEvent(payload) {\n      console.log(payload); // HelloWorld\n    }\n\n    if (socket) {\n      socket.on('SOME_EVENT', handleEvent);\n    }\n  }, [socket]);\n  return __jsx(React.Fragment, null, __jsx(Navigation, null), __jsx(\"div\", null, \"here is the homepage\"));\n}\n\nexport default Index;","map":{"version":3,"sources":["/home/bhuwan/Documents/nextjs/go-chat/pages/index.js"],"names":["React","Link","Navigation","io","serverUrl","useSocket","url","socket","setSocket","useState","useEffect","socketIo","cleanup","disconnect","Index","handleEvent","payload","console","log","on"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,OAAOC,IAAP,MAAiB,WAAjB;AACA,OAAOC,UAAP,MAAuB,0BAAvB;AACA,OAAOC,EAAP,MAAe,kBAAf;AACA,SAASC,SAAT,QAA0B,cAA1B;;AAIA,SAASC,SAAT,CAAmBC,GAAnB,EAAwB;AACpB,QAAM,CAACC,MAAD,EAASC,SAAT,IAAsBR,KAAK,CAACS,QAAN,CAAe,IAAf,CAA5B;AAEAT,EAAAA,KAAK,CAACU,SAAN,CAAgB,MAAM;AAClB,UAAMC,QAAQ,GAAGR,EAAE,CAACG,GAAD,CAAnB;AAEAE,IAAAA,SAAS,CAACG,QAAD,CAAT;;AAEA,aAASC,OAAT,GAAmB;AACfD,MAAAA,QAAQ,CAACE,UAAT;AACH;;AACD,WAAOD,OAAP,CARkB,CAUlB;AACA;AACH,GAZD,EAYG,EAZH;AAcA,SAAOL,MAAP;AACH;;AAID,SAASO,KAAT,GAAiB;AAGb,QAAMP,MAAM,GAAGF,SAAS,CAAC,uBAAD,CAAxB;AAEAL,EAAAA,KAAK,CAACU,SAAN,CAAgB,MAAM;AAClB,aAASK,WAAT,CAAqBC,OAArB,EAA8B;AAC1BC,MAAAA,OAAO,CAACC,GAAR,CAAYF,OAAZ,EAD0B,CAE1B;AACH;;AACD,QAAIT,MAAJ,EAAY;AACRA,MAAAA,MAAM,CAACY,EAAP,CAAU,YAAV,EAAwBJ,WAAxB;AACH;AACJ,GARD,EAQG,CAACR,MAAD,CARH;AAUA,SAAO,4BACH,MAAC,UAAD,OADG,EAGH,0CAHG,CAAP;AAKH;;AAED,eAAeO,KAAf","sourcesContent":["import React from 'react';\n\nimport Link from 'next/link';\nimport Navigation from '../components/Navigation';\nimport io from 'socket.io-client';\nimport { serverUrl } from '../constants';\n\n\n\nfunction useSocket(url) {\n    const [socket, setSocket] = React.useState(null)\n\n    React.useEffect(() => {\n        const socketIo = io(url)\n\n        setSocket(socketIo)\n\n        function cleanup() {\n            socketIo.disconnect()\n        }\n        return cleanup\n\n        // should only run once and not on every re-render,\n        // so pass an empty array\n    }, [])\n\n    return socket\n}\n\n\n\nfunction Index() {\n\n\n    const socket = useSocket('http://127.0.0.1:3000')\n\n    React.useEffect(() => {\n        function handleEvent(payload) {\n            console.log(payload)\n            // HelloWorld\n        }\n        if (socket) {\n            socket.on('SOME_EVENT', handleEvent)\n        }\n    }, [socket])\n\n    return <>\n        <Navigation />\n\n        <div>here is the homepage</div>\n    </>\n}\n\nexport default Index;"]},"metadata":{},"sourceType":"module"}