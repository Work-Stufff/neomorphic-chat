{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nvar __jsx = React.createElement;\nimport React from 'react';\nimport Link from 'next/link';\nimport Navigation from '../components/Navigation';\nimport io from 'socket.io-client';\nimport { serverUrl } from '../constants';\n\nfunction useSocket(url) {\n  _s();\n\n  var _React$useState = React.useState(null),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      socket = _React$useState2[0],\n      setSocket = _React$useState2[1];\n\n  React.useEffect(function () {\n    var socketIo = io(url);\n    setSocket(socketIo);\n\n    function cleanup() {\n      socketIo.disconnect();\n    }\n\n    return cleanup; // should only run once and not on every re-render,\n    // so pass an empty array\n  }, []);\n  return socket;\n}\n\n_s(useSocket, \"NvwYO9vJOwIMt5STdlMKfWhuxZw=\");\n\nfunction Index() {\n  _s2();\n\n  var socket = useSocket(serverUrl);\n  React.useEffect(function () {\n    function handleEvent(payload) {\n      console.log(payload); // HelloWorld\n    }\n\n    if (socket) {\n      socket.on('SOME_EVENT', handleEvent);\n    }\n  }, [socket]);\n  return __jsx(React.Fragment, null, __jsx(Navigation, null), __jsx(\"div\", null, \"here is the homepage\"));\n}\n\n_s2(Index, \"bdNYLtWpcWPT6pbVuq4ZcRE5XfA=\", false, function () {\n  return [useSocket];\n});\n\n_c = Index;\nexport default Index;\n\nvar _c;\n\n$RefreshReg$(_c, \"Index\");","map":{"version":3,"sources":["/home/bhuwan/Documents/nextjs/go-chat/pages/index.js"],"names":["React","Link","Navigation","io","serverUrl","useSocket","url","useState","socket","setSocket","useEffect","socketIo","cleanup","disconnect","Index","handleEvent","payload","console","log","on"],"mappings":";;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,OAAOC,IAAP,MAAiB,WAAjB;AACA,OAAOC,UAAP,MAAuB,0BAAvB;AACA,OAAOC,EAAP,MAAe,kBAAf;AACA,SAASC,SAAT,QAA0B,cAA1B;;AAIA,SAASC,SAAT,CAAmBC,GAAnB,EAAwB;AAAA;;AAAA,wBACQN,KAAK,CAACO,QAAN,CAAe,IAAf,CADR;AAAA;AAAA,MACbC,MADa;AAAA,MACLC,SADK;;AAGpBT,EAAAA,KAAK,CAACU,SAAN,CAAgB,YAAM;AAClB,QAAMC,QAAQ,GAAGR,EAAE,CAACG,GAAD,CAAnB;AAEAG,IAAAA,SAAS,CAACE,QAAD,CAAT;;AAEA,aAASC,OAAT,GAAmB;AACfD,MAAAA,QAAQ,CAACE,UAAT;AACH;;AACD,WAAOD,OAAP,CARkB,CAUlB;AACA;AACH,GAZD,EAYG,EAZH;AAcA,SAAOJ,MAAP;AACH;;GAlBQH,S;;AAsBT,SAASS,KAAT,GAAiB;AAAA;;AAGb,MAAMN,MAAM,GAAGH,SAAS,CAACD,SAAD,CAAxB;AAEAJ,EAAAA,KAAK,CAACU,SAAN,CAAgB,YAAM;AAClB,aAASK,WAAT,CAAqBC,OAArB,EAA8B;AAC1BC,MAAAA,OAAO,CAACC,GAAR,CAAYF,OAAZ,EAD0B,CAE1B;AACH;;AACD,QAAIR,MAAJ,EAAY;AACRA,MAAAA,MAAM,CAACW,EAAP,CAAU,YAAV,EAAwBJ,WAAxB;AACH;AACJ,GARD,EAQG,CAACP,MAAD,CARH;AAUA,SAAO,4BACH,MAAC,UAAD,OADG,EAGH,0CAHG,CAAP;AAKH;;IApBQM,K;UAGUT,S;;;KAHVS,K;AAsBT,eAAeA,KAAf","sourcesContent":["import React from 'react';\n\nimport Link from 'next/link';\nimport Navigation from '../components/Navigation';\nimport io from 'socket.io-client';\nimport { serverUrl } from '../constants';\n\n\n\nfunction useSocket(url) {\n    const [socket, setSocket] = React.useState(null)\n\n    React.useEffect(() => {\n        const socketIo = io(url)\n\n        setSocket(socketIo)\n\n        function cleanup() {\n            socketIo.disconnect()\n        }\n        return cleanup\n\n        // should only run once and not on every re-render,\n        // so pass an empty array\n    }, [])\n\n    return socket\n}\n\n\n\nfunction Index() {\n\n\n    const socket = useSocket(serverUrl)\n\n    React.useEffect(() => {\n        function handleEvent(payload) {\n            console.log(payload)\n            // HelloWorld\n        }\n        if (socket) {\n            socket.on('SOME_EVENT', handleEvent)\n        }\n    }, [socket])\n\n    return <>\n        <Navigation />\n\n        <div>here is the homepage</div>\n    </>\n}\n\nexport default Index;"]},"metadata":{},"sourceType":"module"}